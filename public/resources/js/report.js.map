{"version":3,"sources":["src/report.js"],"names":["$","document","ready","click","val","addClass","css","animate","width","ajax","url","method","data","username","comment","done","removeClass","success","stop","text","show","top","delay","fadeOut","each","showInvalidMessage","form","prop","console","log","hide"],"mappings":";;AAAA;AACA,CAAC,YAAM;AACLA,IAAEC,QAAF,EAAYC,KAAZ,CAAkB,YAAM;AACtBF,MAAE,gBAAF,EAAoBG,KAApB,CAA0B,YAAM;AAC9B,UAAIH,EAAE,WAAF,EAAeI,GAAf,OAAyB,EAAzB,IAA+BJ,EAAE,UAAF,EAAcI,GAAd,OAAwB,EAA3D,EAA+D;AAC7DJ,UAAE,eAAF,EAAmBK,QAAnB,CAA4B,UAA5B;AACAL,UAAE,cAAF,EAAkBM,GAAlB,CAAsB,kBAAtB,EAA0C,KAA1C;AACAN,UAAE,kBAAF,EAAsBO,OAAtB,CAA8B,EAAEC,OAAO,MAAT,EAA9B,EAAiD,IAAjD;;AAEAR,UAAES,IAAF,CAAO;AACLC,eAAK,SADA;AAELC,kBAAQ,MAFH;;AAILC,gBAAM;AACJC,sBAAUb,EAAE,WAAF,EAAeI,GAAf,EADN;AAEJU,qBAASd,EAAE,UAAF,EAAcI,GAAd;AAFL;AAJD,SAAP,EAQGW,IARH,CAQQ,UAACH,IAAD,EAAU;AAChBZ,YAAE,QAAF,EAAYgB,WAAZ,CAAwB,cAAxB;AACAhB,YAAE,QAAF,EAAYgB,WAAZ,CAAwB,eAAxB;;AAEAhB,YAAE,QAAF,EAAYK,QAAZ,CAAqBO,KAAKK,OAAL,GAAe,eAAf,GAAiC,cAAtD;;AAEAjB,YAAE,kBAAF,EAAsBkB,IAAtB,CAA2B,IAA3B,EAAiC,IAAjC;AACAlB,YAAE,kBAAF,EAAsBM,GAAtB,CAA0B,OAA1B,EAAmC,IAAnC;AACAN,YAAE,eAAF,EAAmBgB,WAAnB,CAA+B,UAA/B;;AAEAhB,YAAE,aAAF,EAAiBmB,IAAjB,CAAsBP,KAAKO,IAA3B;AACAnB,YAAE,QAAF,EAAYkB,IAAZ,CAAiB,IAAjB,EAAuB,IAAvB;AACAlB,YAAE,QAAF,EAAYoB,IAAZ;AACApB,YAAE,QAAF,EAAYM,GAAZ,CAAgB,KAAhB,EAAuB,QAAvB;AACAN,YAAE,QAAF,EAAYO,OAAZ,CAAoB,EAAEc,KAAK,MAAP,EAApB,EAAqC,IAArC,EAA2CC,KAA3C,CAAiD,IAAjD,EAAuDC,OAAvD,CAA+D,IAA/D;;AAEA,cAAIX,KAAKK,OAAT,EAAkB;AAChBjB,cAAE,WAAF,EAAeI,GAAf,CAAmB,EAAnB;AACAJ,cAAE,UAAF,EAAcI,GAAd,CAAkB,EAAlB;AACD;AACF,SA5BD;AA6BD,OAlCD,MAkCO;AACLJ,UAAE,eAAF,EAAmBwB,IAAnB,CAAwB,SAASC,kBAAT,GAA8B;AACpD,cAAMC,OAAO1B,EAAE,IAAF,CAAb;AACA,cAAI0B,KAAKtB,GAAL,OAAe,EAAnB,EAAuB;AACrBsB,iBAAKrB,QAAL,CAAc,YAAd;AACAqB,iBAAKV,WAAL,CAAiB,UAAjB;;AAEAhB,2BAAa0B,KAAKC,IAAL,CAAU,MAAV,CAAb,QAAmCP,IAAnC;AACAQ,oBAAQC,GAAR,cAAuBH,KAAKC,IAAL,CAAU,MAAV,CAAvB;AACD,WAND,MAMO;AACLD,iBAAKrB,QAAL,CAAc,UAAd;AACAqB,iBAAKV,WAAL,CAAiB,YAAjB;;AAEAhB,2BAAa0B,KAAKC,IAAL,CAAU,MAAV,CAAb,QAAmCG,IAAnC;AACD;AACF,SAdD;AAeD;AACF,KApDD;AAqDD,GAtDD;AAuDD,CAxDD","file":"report.js","sourcesContent":["/* eslint-env browser, jquery */\r\n(() => {\r\n  $(document).ready(() => {\r\n    $('#report-button').click(() => {\r\n      if ($('#username').val() !== '' && $('#comment').val() !== '') {\r\n        $('report-button').addClass('disabled');\r\n        $('.loading-bar').css('background-color', '777');\r\n        $('.loading-display').animate({ width: '100%' }, 1000);\r\n\r\n        $.ajax({\r\n          url: '/report',\r\n          method: 'POST',\r\n\r\n          data: {\r\n            username: $('#username').val(),\r\n            comment: $('#comment').val(),\r\n          },\r\n        }).done((data) => {\r\n          $('#alert').removeClass('alert-danger');\r\n          $('#alert').removeClass('alert-success');\r\n\r\n          $('#alert').addClass(data.success ? 'alert-success' : 'alert-danger');\r\n\r\n          $('.loading-display').stop(true, true);\r\n          $('.loading-display').css('width', '0%');\r\n          $('report-button').removeClass('disabled');\r\n\r\n          $('#alert-text').text(data.text);\r\n          $('#alert').stop(true, true);\r\n          $('#alert').show();\r\n          $('#alert').css('top', '-100px');\r\n          $('#alert').animate({ top: '50px' }, 1000).delay(2000).fadeOut(1000);\r\n\r\n          if (data.success) {\r\n            $('#username').val('');\r\n            $('#comment').val('');\r\n          }\r\n        });\r\n      } else {\r\n        $('.form-control').each(function showInvalidMessage() {\r\n          const form = $(this);\r\n          if (form.val() === '') {\r\n            form.addClass('is-invalid');\r\n            form.removeClass('is-valid');\r\n\r\n            $(`div[for=${form.prop('name')}]`).show();\r\n            console.log(`div[for=${form.prop('name')}]`);\r\n          } else {\r\n            form.addClass('is-valid');\r\n            form.removeClass('is-invalid');\r\n\r\n            $(`div[for=${form.prop('name')}]`).hide();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  });\r\n})();\r\n"]}