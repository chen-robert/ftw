{"version":3,"sources":["src/base.js"],"names":["window","FTW","socket","io","on","chat","safeAppend","msg","location","replace","url","err","$","text","stop","show","css","animate","top","delay","fadeOut","userUtils","setUsers","data","game","loadGames","uuid","currGame","joinGame","spectating","leaveGame","setReviewData","setHost","setTimer","setProblem","setScores"],"mappings":";;AAAA;;;AAGA;AACA;;AAEA,CAAC,YAAM;AACL,QAAI,CAACA,OAAOC,GAAZ,EAAiB;AACfD,eAAOC,GAAP,GAAa,EAAb;AACAD,eAAOC,GAAP,CAAWC,MAAX,GAAoBC,IAApB;;AAEAH,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,SAArB,EAAgC;AAAA,mBAAOJ,OAAOC,GAAP,CAAWI,IAAX,CAAgBC,UAAhB,CAA2BC,GAA3B,CAAP;AAAA,SAAhC;;AAEAP,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,UAArB,EAAiC;AAAA,mBAAOJ,OAAOQ,QAAP,CAAgBC,OAAhB,CAAwBC,GAAxB,CAAP;AAAA,SAAjC;;AAEAV,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CACE,aADF,EAGE,UAACO,GAAD,EAAS;AACPC,cAAE,aAAF,EAAiBC,IAAjB,CAAsBF,GAAtB;AACAC,cAAE,QAAF,EAAYE,IAAZ,CAAiB,IAAjB,EAAuB,IAAvB;AACAF,cAAE,QAAF,EAAYG,IAAZ;AACAH,cAAE,QAAF,EAAYI,GAAZ,CAAgB,KAAhB,EAAuB,QAAvB;AACAJ,cAAE,QAAF,EAAYK,OAAZ,CAAoB,EAAEC,KAAK,MAAP,EAApB,EAAqC,IAArC,EAA2CC,KAA3C,CAAiD,IAAjD,EAAuDC,OAAvD,CAA+D,IAA/D;AACD,SATH;;AAYApB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,cAArB,EAAqC;AAAA,mBAAQJ,OAAOC,GAAP,CAAWoB,SAAX,CAAqBC,QAArB,CAA8BC,IAA9B,CAAR;AAAA,SAArC;;AAEAvB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,WAArB,EAAkC;AAAA,mBAAQJ,OAAOC,GAAP,CAAWuB,IAAX,CAAgBC,SAAhB,CAA0BF,IAA1B,CAAR;AAAA,SAAlC;;AAEAvB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CACE,WADF,EAGE,UAACsB,IAAD,EAAU;AACR1B,mBAAOC,GAAP,CAAWuB,IAAX,CAAgBG,QAAhB,GAA2BD,IAA3B;AACD,SALH;;AAQA1B,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CACE,WADF,EAGE,UAACmB,IAAD,EAAU;AACRvB,mBAAOC,GAAP,CAAWuB,IAAX,CAAgBI,QAAhB,CAAyBL,IAAzB;AACD,SALH;;AAQAvB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CACE,eADF,EAGE,UAACmB,IAAD,EAAU;AACRvB,mBAAOC,GAAP,CAAWuB,IAAX,CAAgBK,UAAhB,GAA6B,IAA7B;AACA7B,mBAAOC,GAAP,CAAWuB,IAAX,CAAgBI,QAAhB,CAAyBL,IAAzB;AACD,SANH;;AASAvB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,YAArB,EAAmC;AAAA,mBAAQJ,OAAOC,GAAP,CAAWuB,IAAX,CAAgBM,SAAhB,CAA0BP,IAA1B,CAAR;AAAA,SAAnC;;AAEAvB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,aAArB,EAAoC;AAAA,mBAAQJ,OAAOC,GAAP,CAAWuB,IAAX,CAAgBO,aAAhB,CAA8BR,IAA9B,CAAR;AAAA,SAApC;;AAEAvB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,UAArB,EAAiC;AAAA,mBAAMJ,OAAOC,GAAP,CAAWuB,IAAX,CAAgBQ,OAAhB,EAAN;AAAA,SAAjC;;AAEAhC,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,OAArB,EAA8B;AAAA,mBAAQJ,OAAOC,GAAP,CAAWuB,IAAX,CAAgBS,QAAhB,CAAyBV,IAAzB,CAAR;AAAA,SAA9B;;AAEAvB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,SAArB,EAAgC;AAAA,mBAAQJ,OAAOC,GAAP,CAAWuB,IAAX,CAAgBU,UAAhB,CAA2BX,IAA3B,CAAR;AAAA,SAAhC;;AAEAvB,eAAOC,GAAP,CAAWC,MAAX,CAAkBE,EAAlB,CAAqB,QAArB,EAA+B;AAAA,mBAAQJ,OAAOC,GAAP,CAAWuB,IAAX,CAAgBW,SAAhB,CAA0BZ,IAA1B,CAAR;AAAA,SAA/B;AACD;AACF,CA9DD","file":"base.js","sourcesContent":["/**\r\n * This JS file should be loaded first.\r\n */\r\n/* eslint-env browser, jquery */\r\n/* globals io */\r\n\r\n(() => {\r\n  if (!window.FTW) {\r\n    window.FTW = {};\r\n    window.FTW.socket = io();\r\n\r\n    window.FTW.socket.on('message', msg => window.FTW.chat.safeAppend(msg));\r\n\r\n    window.FTW.socket.on('redirect', url => window.location.replace(url));\r\n\r\n    window.FTW.socket.on(\r\n      'notif error',\r\n\r\n      (err) => {\r\n        $('#alert-text').text(err);\r\n        $('#alert').stop(true, true);\r\n        $('#alert').show();\r\n        $('#alert').css('top', '-100px');\r\n        $('#alert').animate({ top: '50px' }, 1000).delay(5000).fadeOut(1000);\r\n      },\r\n    );\r\n\r\n    window.FTW.socket.on('online users', data => window.FTW.userUtils.setUsers(data));\r\n\r\n    window.FTW.socket.on('game data', data => window.FTW.game.loadGames(data));\r\n\r\n    window.FTW.socket.on(\r\n      'curr game',\r\n\r\n      (uuid) => {\r\n        window.FTW.game.currGame = uuid;\r\n      },\r\n    );\r\n\r\n    window.FTW.socket.on(\r\n      'join game',\r\n\r\n      (data) => {\r\n        window.FTW.game.joinGame(data);\r\n      },\r\n    );\r\n\r\n    window.FTW.socket.on(\r\n      'spectate game',\r\n\r\n      (data) => {\r\n        window.FTW.game.spectating = true;\r\n        window.FTW.game.joinGame(data);\r\n      },\r\n    );\r\n\r\n    window.FTW.socket.on('leave game', data => window.FTW.game.leaveGame(data));\r\n\r\n    window.FTW.socket.on('review game', data => window.FTW.game.setReviewData(data));\r\n\r\n    window.FTW.socket.on('set host', () => window.FTW.game.setHost());\r\n\r\n    window.FTW.socket.on('timer', data => window.FTW.game.setTimer(data));\r\n\r\n    window.FTW.socket.on('problem', data => window.FTW.game.setProblem(data));\r\n\r\n    window.FTW.socket.on('scores', data => window.FTW.game.setScores(data));\r\n  }\r\n})();\r\n"]}