{"version":3,"sources":["src/login.js"],"names":["$","document","ready","click","addClass","removeClass","attr","text","keydown","e","which","submit","loginToGame","preventDefault","val","css","animate","width","ajax","url","action","method","data","username","password","done","redirect","window","location","href","stop","show","top","delay","fadeOut","each","showInvalidMessage","form","prop","console","log","hide"],"mappings":"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","file":"login.js","sourcesContent":["/* eslint-env browser, jquery */\r\n(() => {\r\n  $(document).ready(() => {\r\n    $('#sign-in').click(() => {\r\n      $('#sign-in').addClass('active');\r\n      $('#create').removeClass('active');\r\n\r\n      $('#login-form').attr('action', '/login');\r\n      $('#login-button').text('Sign In');\r\n    });\r\n\r\n\r\n    $('#create').click(() => {\r\n      $('#create').addClass('active');\r\n      $('#sign-in').removeClass('active');\r\n\r\n      $('#login-form').attr('action', '/create-account');\r\n      $('#login-button').text('Create Account');\r\n    });\r\n\r\n    $('.form-control').keydown((e) => {\r\n      if (e.which === 13) {\r\n        $('#login-form').submit();\r\n      }\r\n    });\r\n\r\n    $('#login-form').submit(function loginToGame(e) {\r\n      e.preventDefault(e);\r\n      if ($('#username').val() !== '' && $('#password').val() !== '') {\r\n        $('login-button').addClass('disabled');\r\n        $('.loading-bar').css('background-color', '777');\r\n        $('.loading-display').animate({ width: '100%' }, 1000);\r\n\r\n        $.ajax({\r\n          url: this.action,\r\n          method: 'POST',\r\n\r\n          data: {\r\n            username: $('#username').val(),\r\n            password: $('#password').val(),\r\n          },\r\n        }).done((data) => {\r\n          if (data.redirect) {\r\n            window.location.href = data.redirect;\r\n          } else {\r\n            $('.loading-display').stop(true, true);\r\n            $('.loading-display').css('width', '0%');\r\n            $('login-button').removeClass('disabled');\r\n\r\n            $('#alert-text').text(data);\r\n            $('#alert').stop(true, true);\r\n            $('#alert').show();\r\n            $('#alert').css('top', '-100px');\r\n            $('#alert').animate({ top: '50px' }, 1000).delay(2000).fadeOut(1000);\r\n          }\r\n        });\r\n      } else {\r\n        $('.form-control').each(function showInvalidMessage() {\r\n          const form = $(this);\r\n          if (form.val() === '') {\r\n            form.addClass('is-invalid');\r\n            form.removeClass('is-valid');\r\n\r\n            $(`div[for=${form.prop('name')}]`).show();\r\n            console.log(`div[for=${form.prop('name')}]`);\r\n          } else {\r\n            form.addClass('is-valid');\r\n            form.removeClass('is-invalid');\r\n\r\n\r\n            $(`div[for=${form.prop('name')}]`).hide();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  });\r\n})();\r\n"]}